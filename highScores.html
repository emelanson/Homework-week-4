<!DOCTYPE html>
<html lang="en">

<head>
	<meta charset="UTF-8" />
	<meta name="viewport" content="width=device-width, initial-scale=1.0" />
	<meta http-equiv="X-UA-Compatible" content="ie=edge" />
	<meta name="Description" content="Homework week 4 code quiz" />
	<link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css"
		integrity="sha384-JcKb8q3iqJ61gNV9KGb8thSsNjpSL0n8PARn9HuZOnIxN0hoP+VmmDGMN5t9UJ0Z" crossorigin="anonymous" />
	<title>HIGH SCORES</title>
</head>

<body>
	<nav class="nav d-flex">
		<li class="nav-item p-2">
			<a class="nav-link active" href="index.html">Go back</a>
		</li>
	</nav>
	<div class="container">
		<div class="row h-25">
			<div class="column-md-8 mt-5 p-2">
				<h1 class="main-display">BAD DUDES HALL OF FAME</h1>
				<table class="table table-dark mt-5">
					<thead>
						<tr>
							<th scope="col">#</th>
							<th scope="col">Name</th>
							<th scope="col">Score</th>
						</tr>
					</thead>
					<tbody id="entries">
					</tbody>
				</table>
				<button type="button" class="reset-button btn btn-primary btn-lg">
					RESET THE HIGH SCORES
				</button>
			</div>
		</div>
	</div>
	<script type="text/javascript">
		//load highscores and parse them
		var HSstring = localStorage.getItem("highScoreList");
		highScoresList = JSON.parse(HSstring);

		var tableEntries = document.querySelector("#entries");

		//Generate a line in our table for each entry in high score list.
		for (var i = 0; i < highScoresList.length; i++) {
			createHighScoreTable(highScoresList[i]);
		}


		//builds a new entry in our table
		//creates a new th and 2 tds, assigns them proper values.
		function createHighScoreTable(array) {
			let tableRow = document.createElement("tr");

			let thNum = document.createElement("th");
			thNum.setAttribute("scope", "row");
			thNum.textContent = [i];

			let tdName = document.createElement("td");
			tdName.innerHTML = array[0]

			let tdScore = document.createElement("td");
			tdScore.innerHTML = array[1]

			tableRow.appendChild(thNum);
			tableRow.appendChild(tdName);
			tableRow.appendChild(tdScore);

			tableEntries.appendChild(tableRow);
		}


		//button for reseting high scores.  empty highscorelist, put the empty list into storage, refresh the page.
		var resetButton = document.querySelector(".reset-button");

		resetButton.addEventListener('click', function () {
			highScoreList = [""];
			localStorage.setItem("highScoreList", highScoreList);
			location.reload();
		});

	</script>
</body>

</html>